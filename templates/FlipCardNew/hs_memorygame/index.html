{% load static %}
<!DOCTYPE html>
<html>
<head>
    <meta charset="utf-8">
    <title>Flip Card Images</title>
    <meta name="nivel" content="{{ level }}">

    <link rel="stylesheet" type="text/css" href="{% static 'FlipCardNew/hs_memorygame/main.css' %}">
    <script src="{% static 'FlipCardNew/hs_memorygame/main.js' %}"></script>
</head>
<body>
    <div id="scale-wrapper">
        <div id="principal" style="background-image: url('{{ background_image }}');">
            <div id="grid-container"></div> <!-- Container for the cards -->
            <div id="level-display">
                <span id="current-level">Level: {{ level }}</span>
            </div>
        </div>
        
        <!-- Existing content above remains the same -->

        <div id="informacoes">
            <span id="span-points">Points: 0</span>
            <input type="button" id="botao" value="Next Level" onclick="inicializar()" style="display: none;">
            <h2>Unlocked Levels Images</h2>
            <div id="unlocked-images-container">
                {% for image in unlocked_background_images %}
                <img src="{{ image }}" alt="Unlocked Level" class="unlocked-image {% if forloop.counter == level %}blurred{% endif %}" onclick="openImage(this)">
                {% endfor %}
            </div>
        </div>

        <!-- New section for unlocked images -->
        <div id="unlocked-images">
            
        </div>

        
        <!-- Modal for displaying the full image -->
        <div id="image-modal" class="modal" onclick="closeImage()">
            <span class="close">&times;</span>
            <img class="modal-content" id="full-image">
        </div>
        
    </div>

    <script>
        // Pass card data to JavaScript
        const cardData = {{ card_data|safe }};
        const level = {{ level }};
        const maxLevel = {{ max_level }};
        const unlockedBackgroundImages = {{ unlocked_background_images|safe }}; // Pass unlocked images to JavaScript

        inicializar();

        function goToNextLevel() {
            if (level < maxLevel) {
                window.location.href = `/hs_memorygame/?level=${level + 1}`;
            } else {
                alert("Congratulations! You've completed the game.");
            }
        }
    </script>
    
</body>
</html>
